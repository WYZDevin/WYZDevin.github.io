---
import Link from './Link/Link.astro'

interface Props {
  url: string
  class?: string
}

const { url, class: className } = Astro.props

// Extract domain from URL for display
const urlObj = new URL(url)
const domain = urlObj.hostname.replace('www.', '')
---

<Link
  target='_blank'
  href={url}
  class:list={[
    'not-prose flex overflow-clip rounded-xl md:h-full md:max-h-[144px]',
    'bg-zinc-900 outline outline-zinc-700 hover:outline-2',
    'group relative transition-all',
    className
  ]}
>
  <span
    style='transition-duration: 800ms;'
    class:list={[
      'max-md:hidden',
      'absolute right-0 z-30 -mt-8 h-52 w-28 rotate-[24deg] bg-white opacity-[0.02]',
      'translate-x-32 transition-all ease-out',
      'group-hover:-translate-x-[520px]'
    ]}></span>
  <div class='flex h-full flex-col justify-center gap-2 p-4'>
    <p class='text-sm font-normal leading-snug tracking-wide !text-zinc-200'>
      {domain}
    </p>
    <p class='line-clamp-2 text-xs leading-normal text-zinc-400'>
      Visit link
    </p>
    <div class='flex gap-2 pt-1 text-xs'>
      <svg class="size-4 flex-shrink-0 text-zinc-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width={2} d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
      </svg>
      <p class='line-clamp-1 text-zinc-400/75 transition-all group-hover:text-zinc-400'>
        {url}
      </p>
    </div>
  </div>
</Link>
